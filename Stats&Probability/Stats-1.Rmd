---
title: "Stats & Probability"
output: 
  html_document:
    toc: yes
    code_folding: show
    theme:
      bg: "#202123"
      fg: "#c8cbd0" # grey
      primary: "#00b36b"  # pink "#EA80FC" 
      base_font:
        google: Ubuntu
      heading_font:
        google: Ubuntu
      version: 3
---

Material is lessons from Khan Academy, to refresh my memory and skills.

```{r setup, include=FALSE}
if (requireNamespace("thematic")) 
  thematic::thematic_rmd(font = "auto")
```

```{r, warning=FALSE, message=FALSE ,echo=FALSE}
library(tidyverse)
library(ggvenn)
```



## Frequency Tables & Venn diagrams

```{r}
# library(ggvenn)

circles = list('Bajor' = c(6,3), 'Cardassia' = c(1,3))

ggvenn(circles, set_name_color = 'white', 
       show_elements = T,
       text_color = 'white')
```

- 6 people are Bajoran and not Cardassian 
- 3 people are both Bajoran and Cardassian
- 1 person is Cardassian and not Bajoran


```{r echo=FALSE}
tribble(
  ~' ',~'Bajoran', ~'Cardassian',~'total',
  'Cardassian', 3, 6, 9,
  'Bajoran', 1, 2, 3,
  'total', 4, 8, 12
)

```



## Two way frequency table

| .                | Type A          | Type B           | total |     |
| :--------------- | :-------------- | :--------------- | :---- | :-- |
| Pos X            | 28              | 35               | 60    |     |
| Neg X            | 97              | 104              | 201   |     |
| ---- total ----  | = 125           | = 139            |       |     |
| Proportion Pos X | 28 / 125 = 0.22 | 35 / 139 = 0.25  |       |     |
| Proportion Neg X | 97 / 125 = 0.78 | 104 / 139 = 0.75 |       |     |   


# Descriptive Stats

Average = mean. Median = middle. Mode = most common number

```{r}
a = c(1,2,4,6,4)

sort(a)

total = sum(a)
n = length(a)

# avg = total/n
paste("the avg ", mean(a))

paste("the middle", median(a))

# mode(a)
```




```{r}
x = c(0,2,4,12,12,5,6,19)
mean(x)

v = c(80,90,92,94,96)
v2 = c(90,92,94,96)

paste(" mean with lowest value: ",mean(v))
paste(" mean without lowest value: ",mean(v2))
```

athlete pulls avg to the right but median will be < mean

3 people make same money 50+50+50/3 =50  median = 50

3 unemployed pull avg left but median will be > mean

x points, remove 1 lowest value , the median move to the right, mean goes up


```{}
dots
  1   2  3  1  2     1
|-|-|-|--|--|--|--|--|-|-
6 7 8 9 10 11 12 13  14  distribution
```


## IQR 

Interquartile range is the amount of spread in the middle %50 percent of a dataset. 


```{r}
x = c(16,24,26,26,26,27,28)
# median       ^

median(x)
# mean(x)
# max(x)
# min(x) 
range = max(x) - min(x)

# break into quartiles Q1 (25%)
x1 = c(16,24,26)
q1 = median(x1)

# Quartile 3 (75%)
x3 = c(26,27,28)
q3 = median(x3)

IQR = q3 - q1
IQR
```

## Range, Variance & STD

Range (max - min) is the measure of dispersion, how far away from the mean (average) a data point is.

Variance $\sigma^2$  

Standard Deviation $\sigma$ (the sqrt( variance))

```{r}
p1 = c(-10,0,10,20,30)
p2 = c(8,9,10,11,12)

# mean(p1) #= 10
# mean(p2) #= 10

# return the max and min for vector
range1 = range(p1)
# subtract the range elements to get range
range1 = range1[2]- range1[1] #= 40

range2 = range(p2)
range2 = range2[2] - range2[1] #= 4

# variance for p1 vector, (elements - mean)^2
v1 = (-10 - 10)^2 + (0-10)^2 + (10-10)^2 +(20-10)^2 +(30-10)^2
variance1 = v1 / length(p1)

# variance for p2 vector
v2 = (p2[1] - 10)^2 + (p2[2]-10)^2 + (p2[3]-10)^2 +(p2[4]-10)^2 +(p2[5]-10)^2
variance2 = v2 / length(p2)


# standard deviation, sqrt( variance )

std1 = sqrt(variance1)
std2 = sqrt(variance2)
```



## Population mean & variance

Population mean $\mu$ and variance $\sigma^2$ measures the dispersion

```{r}
# vector of population
pop = c(4,4.2,5,4.3,5.5)

# length(pop)

# population mean
pop_mean = mean(pop)

# variance
variance = function(v, pop_mean){
  v2 = (v[1] - pop_mean)^2 + (v[2]-pop_mean)^2 + (v[3]-pop_mean)^2 +
    (v[4]-pop_mean)^2 + (v[5]-pop_mean)^2
  
  variance2 = v2 / length(v)
  print(variance2)
}

variance(pop, pop_mean)

# standard deviation
print( sqrt( variance(pop, pop_mean) ) )

sd(pop)
```

```{r}
c = c(35,50,50,50,56,60,60,75,250)

length(c)
m = mean(c)
m
median(c)
range(c)

# ----- IQR
c1 = c(35,50,50,50)
cm1 = median(c1)
c2 = c(60,60,75,250)
cm2 = median(c2)

glue::glue('IQR: ',cm2 - cm1)


variance = function(v, pop_mean){
  v2 = (v[1] - pop_mean)^2 + (v[2]-pop_mean)^2 + (v[3]-pop_mean)^2 +
    (v[4]-pop_mean)^2 + (v[5]-pop_mean)^2 + (v[6]-pop_mean)^2 + 
    (v[7]-pop_mean)^2 + (v[8]-pop_mean)^2 + (v[9]-pop_mean)^2
  
  variance2 = v2 / length(v)
  print(variance2)
}

# variance(c, m)

# std
sqrt( variance(c, m) )
```
the mean is skewed due to the 250 datapoint so the median is better for central tendency
























